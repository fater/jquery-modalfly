#Modal Fly jQuery plugin

Версия: **2.3**

###Как это работает?
* Модуль может отображать модальное окно с заданным содержимым; 
* Модуль может отправлять запросы на API адрес сервера с заданными параметрами;
* Модуль может отправлять запросы на API адрес сервера и возвращать их в виде исполняемого JS кода или/и отображать полученные данные от сервера в модельном окне;
* Модуль может активировать события по специальным HTML командам, например отправить параметры на сервер, а полученные от сервера данные отобразить в модальном окне.
* Модуль не требует написания JS кода, чтобы автоматически отправить данные нужных полей с модального окна. Кроме того к текстовым полям можно добавлять триггер на нажатие клавиши Enter и форма будет отправлена.
* Отправка на сервер и получение данных в формате JSON.



##Зависимости
* **Bootstrap CSS Framework** - использует основной вид отображения формы
* **JQuery** - необходимая библитека для работы модуля



###Как использовать модуль

Подключите два файла в HTML проект:
```html
// Modalfly плагин
<script src="url-to-module/jquery-modalfly/jquery.modalfly.js"></script>
// Стили
<link rel="stylesheet" href="url-to-module/jquery-modalfly/jquery.modalfly.css">

// JQuery
<script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
// Bootstrap CSS Framework
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

```



#Описание параметров
```js
$.modalfly ([первый аргумент функции], [второй аргумент функции]);
```
**Первый аргумент функции**
Тип входящих данных: текстовый
Варианты входящих данных:

* **config** - задаем настройки плагина вторым аргументом функции `{url: 'путь к API', lang_save: 'Язык кнопоки сохранить', lang_close: 'Язык кнопки закрыть'}`
* **show** - отображение формы
* **load** - происходит последовательность действий:
	* отправка данных на сервер (из вызываемой функции или триггеров - заданых парметров в HTML коде);
	* сервер отправляет HTML код для отображения в форме;
	* сервер может передать дополнительные данные, которые также можно использовать на странице;
	* сервер может передать JS коды, которые могут выполняться при отображении формы или закрытии формы.
* **request** - отправка параметров на сервер и получение данных без отображения ответа от сервера в модальном окне.

**Второй аргумент функции**
Тип входящих данных: JSON объект:

{

* **title** - заголовок модального окна (задается только если первый аргумент функции **show**)
* **content** - тело модального окна (задается только если первый аргумент функции **show**)
* **param** - Является не обязательным атрибутом. JSON формат даных. Отправляется в модальное окно в качестве возвращаемых параметров. *Удобно использовать передавая ID элемента, с которым работается, статусы и другие параметры* 
* **size_wide** - boolean. Поумолчанию значение false. True - отобразить широкую форму
* **size_small** - boolean. Поумолчанию значение false. True - отобразить маленькую форму
* **button_color** - Строка. Поумолчанию значение `"btn-primary"`. Определяется цвет кнопки согласно набору цветов Bootstrap
* **button_close** - Не обязательный параметр. Текстовое значение или boolean.
	* Если указать значение TRUE, то на модальном окне отобразится кнопка Закрыть. Заголовок этой кнопки будет взят из глобальной конфигурации плагина `$.modalfly ('config', {lang_close: 'Заголовок кнопки'});`. Если глобальные настройки модуля не были указаны, то заголовок кнопки будет "Закрыть".
	* Если указать текстовое значение, то на модальном окне отобразится кнопка с функцией "Закрыть окно" и надписью, указанной в текущем занчении.
* **button_save** - Не обязательный параметр. Текстовое значение или boolean.
	* Если указать значение TRUE, то на модальном окне отобразится кнопка Сохранить. Заголовок этой кнопки будет взят из глобальной конфигурации плагина `$.modalfly ('config', {lang_save: 'Заголовок кнопки'});`. Если глобальные настройки модуля не были указаны, то заголовок кнопки будет "Сохранить".
	* Если указать текстовое значение, то на модальном окне отобразится кнопка с функцией "Сохранить" и надписью, указанной в текущем занчении.

}


#Примеры использования с JS
###Отображение модального окна
*Пример:*
Если нам необходимо вывести модальное окно с текстом "Some text".
```js
$.modalfly ('show', 'Some text');
// Или более правильный вариант
$.modalfly ('show', {content: 'Some text'});
```


*Пример:*
Если нам необходимо вывести модальное окно с текстом "Some text" и заголовком "Some title"
```js
$.modalfly ('show', {title: 'Some title', content: 'Some text'});
```


###Отправка данных на сервер
*Пример:*
Нам необходимо отправить следующие параметры на сервер без callback:

**id** = 74
**title** = "Master of War"
**status** = 3

Для этого используется первый аргумент функции "request"

```js
var param = {};
param.id = 74;
param.title = "Master of War";
param.status = 3;
$.modalfly ('request', {url: 'url_to_api', param: param});
```
Результатом выполнения данной функции будет отправка указанных параметров на сервер по указанному адресу API.

#Примеры использования с HTML
###Отправка данных на сервер

*Пример*
На странице мы можем вызывать выполнение плагина, задавая атрибуты HTML объектам.

```html
<a href="javascript:;" data-module="modalfly" data-url="http://sutename.com/api.php" data-action="get_form" data-param="value" data-id="7">Отправить запрос на сервер</a>
```

Разберем данный пример:

* **data-module="modalfly"** - Является обязательным атрибутом. Выполнение запроса на сервер при нажатии на ссылку.
* **data-url="[url]"** - Является не обязательным атрибутом. Задается URL адрес API, на который будет отправляться запрос. В случае если этот атрибут не задан, адрес отправки будет по умолчанию, который будут задан через глобальный параметр `$.modalfly ('options', {url: 'http://globalurl...'});`;
* **data-action="[param]"** - Является не обязательным атрибутом. Задается как параметр, отправляемый на сервер. Со стороны сервера будет доступен как `$_POST['action']`;
* **data-param="[param]"** - Является не обязательным атрибутом. Задается как параметр, отправляемый на сервер. Со стороны сервера будет доступен как `$_POST['param']`;
* **data-id="[id]"** - Является не обязательным атрибутом. Задается как параметр, отправляемый на сервер. Со стороны сервера будет доступен как `$_POST['id']`;

####В каких случаях это удобно использовать?
В большинстве проектов очень удобно использовать API метод ображения к серверу, чтобы работать с данными. Если рассматривать пример с панелью управления сайта, то в качестве data-action атрибута можно задавать case секции кода с отдельными командами, параметр data-id задает id элемента, и если нужно, можем отправлять data-param. В ответ сервер может уже отобразить пользователю форму в модальном окне с произвольным содержимым. Можно вывести огромное количество полей в модальном окне и так же все отправить на сервер. При этом мы не пишем дополнительного JS кода. 

---
###Получение данных с сервера

Список всех JSON параметров, которые можно отправить с сервера:

{

* **title** - Не обязательный параметр. Текстовое значение. Является заголовком модального окна.
* **content** - Не обязательный параметр. Текстовое значение (HTML). В случае если данный параметр будет указан, будет открыто модальное окно с этим кодом.
* **param** - Является не обязательным атрибутом. JSON формат даных. Отправляется в модальное окно в качестве возвращаемых параметров. *Удобно использовать передавая ID элемента, с которым работается, статусы и другие параметры* 
* **button_close** - Не обязательный параметр. Текстовое значение или boolean.
	* Если указать значение TRUE, то на модальном окне отобразится кнопка Закрыть. Заголовок этой кнопки будет взят из глобальной конфигурации плагина `$.modalfly ('config', {lang_close: 'Заголовок кнопки'});`. Если глобальные настройки модуля не были указаны, то заголовок кнопки будет "Закрыть".
	* Если указать текстовое значение, то на модальном окне отобразится кнопка с функцией "Закрыть окно" и надписью, указанной в текущем занчении.
* **button_save** - Не обязательный параметр. Текстовое значение или boolean.
	* Если указать значение TRUE, то на модальном окне отобразится кнопка Сохранить. Заголовок этой кнопки будет взят из глобальной конфигурации плагина `$.modalfly ('config', {lang_save: 'Заголовок кнопки'});`. Если глобальные настройки модуля не были указаны, то заголовок кнопки будет "Сохранить".
	* Если указать текстовое значение, то на модальном окне отобразится кнопка с функцией "Сохранить" и надписью, указанной в текущем занчении.
* **button_color** - Не обязательный параметр. Текстовое значение. Поумолчанию значение "btn-primary". Определяется цвет кнопки согласно набору цветов Bootstrap.
* **size_wide** - Не обязательное значение. Тип boolean. Поумолчанию значение false. True - отобразить широкую форму
* **size_small** - не обязательное значение. Тип boolean. Поумолчанию значение false. True - отобразить маленькую форму

}